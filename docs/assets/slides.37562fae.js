import{a7 as z,s as r,r as V,aC as j,av as Ee,ao as Be,az as Ne,X as ee,a_ as ae,a$ as De,af as g,ai as S,br as Pe,b2 as Re,o as M,Y as te,b3 as U,c as $,aG as Ve,B,_ as m,I as Q,a4 as D,Z as Ue,H as $e,M as oe,a5 as N,aI as ze,bq as Ie,k as be,O as Fe,a as We,b as Xe}from"./pinia.esm-browser.b39ed190.js";import{_ as He,i as xe,z as Ye}from"./QRToggle.2793eef2.js";import{u as Te}from"./wordlist.4a115824.js";/**
 * Vue 3 Carousel 0.1.40
 * (c) 2022
 * @license MIT
 */const _={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0};function qe(t,e){let n;return function(...s){n&&clearTimeout(n),n=setTimeout(()=>{t(...s),n=null},e)}}function Ge(t,e){let n;return function(...s){const c=this;n||(t.apply(c,s),n=!0,setTimeout(()=>n=!1,e))}}function Je(t){var e,n,s;return t?((n=(e=t[0])===null||e===void 0?void 0:e.type)===null||n===void 0?void 0:n.name)==="CarouselSlide"?t:((s=t[0])===null||s===void 0?void 0:s.children)||[]:[]}function Ze(t,e){if(t.wrapAround)return e-1;switch(t.snapAlign){case"start":return e-t.itemsToShow;case"end":return e-1;case"center":case"center-odd":return e-Math.ceil(t.itemsToShow/2);case"center-even":return e-Math.ceil(t.itemsToShow/2);default:return 0}}function Ke(t){if(t.wrapAround)return 0;switch(t.snapAlign){case"start":return 0;case"end":return t.itemsToShow-1;case"center":case"center-odd":return Math.floor((t.itemsToShow-1)/2);case"center-even":return Math.floor((t.itemsToShow-2)/2);default:return 0}}function Ae(t,e,n,s){return t.wrapAround?e:Math.min(Math.max(e,s),n)}function Qe({slidesBuffer:t,currentSlide:e,snapAlign:n,itemsToShow:s,wrapAround:c,slidesCount:d}){let l=t.indexOf(e);if(l===-1&&(l=t.indexOf(Math.ceil(e))),n==="center"||n==="center-odd"?l-=(s-1)/2:n==="center-even"?l-=(s-2)/2:n==="end"&&(l-=s-1),!c){const i=d-s,v=0;l=Math.max(Math.min(l,i),v)}return l}var et=z({name:"Carousel",props:{itemsToShow:{default:_.itemsToShow,type:Number},itemsToScroll:{default:_.itemsToScroll,type:Number},wrapAround:{default:_.wrapAround,type:Boolean},snapAlign:{default:_.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:_.transition,type:Number},breakpoints:{default:_.breakpoints,type:Object},autoplay:{default:_.autoplay,type:Number},pauseAutoplayOnHover:{default:_.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:_.mouseDrag,type:Boolean},touchDrag:{default:_.touchDrag,type:Boolean},dir:{default:_.dir,validator(t){return["rtl","ltr"].includes(t)}},settings:{default(){return{}},type:Object}},setup(t,{slots:e,emit:n,expose:s}){var c;const d=r(null),l=r([]),i=r([]),v=r(0),u=r(1),b=r(null),L=r(null);let T=r({}),y=Object.assign({},_);const o=V(Object.assign({},y)),h=r((c=o.modelValue)!==null&&c!==void 0?c:0),je=r(0),se=r(0),C=r(0),E=r(0);j("config",o),j("slidesBuffer",i),j("slidesCount",u),j("currentSlide",h),j("maxSlide",C),j("minSlide",E);function le(){const a=Object.assign(Object.assign({},t),t.settings);T=r(Object.assign({},a.breakpoints)),y=Object.assign(Object.assign({},a),{settings:void 0,breakpoints:void 0}),ie(y)}function I(){const a=Object.keys(T.value).map(f=>Number(f)).sort((f,w)=>+w-+f);let p=Object.assign({},y);a.some(f=>window.matchMedia(`(min-width: ${f}px)`).matches?(p=Object.assign(Object.assign({},p),T.value[f]),!0):!1),ie(p)}function ie(a){for(let p in a)o[p]=a[p]}const Me=qe(()=>{T.value&&(I(),P()),F()},16);function F(){if(!d.value)return;const a=d.value.getBoundingClientRect();v.value=a.width/o.itemsToShow}function P(){u.value=Math.max(l.value.length,1),!(u.value<=0)&&(se.value=Math.ceil((u.value-1)/2),C.value=Ze(o,u.value),E.value=Ke(o),h.value=Ae(o,h.value,C.value,E.value))}function W(){const a=[...Array(u.value).keys()];if(o.wrapAround&&o.itemsToShow+1<=u.value){let w=(o.itemsToShow!==1?Math.round((u.value-o.itemsToShow)/2):0)-h.value;if(o.snapAlign==="end"?w+=Math.floor(o.itemsToShow-1):(o.snapAlign==="center"||o.snapAlign==="center-odd")&&w++,w<0)for(let A=w;A<0;A++)a.push(Number(a.shift()));else for(let A=0;A<w;A++)a.unshift(Number(a.pop()))}i.value=a}Ee(()=>{T.value&&(I(),P()),Be(()=>setTimeout(F,16)),o.autoplay&&o.autoplay>0&&ve(),window.addEventListener("resize",Me,{passive:!0})}),Ne(()=>{L.value&&clearTimeout(L.value),me(!1)});let x=!1;const X={x:0,y:0},H={x:0,y:0},O=V({x:0,y:0}),re=r(!1),q=r(!1),Le=()=>{q.value=!0},Oe=()=>{q.value=!1};function ue(a){x=a.type==="touchstart",!(!x&&a.button!==0||R.value)&&(re.value=!0,X.x=x?a.touches[0].clientX:a.clientX,X.y=x?a.touches[0].clientY:a.clientY,document.addEventListener(x?"touchmove":"mousemove",ce,!0),document.addEventListener(x?"touchend":"mouseup",de,!0))}const ce=Ge(a=>{H.x=x?a.touches[0].clientX:a.clientX,H.y=x?a.touches[0].clientY:a.clientY;const p=H.x-X.x,f=H.y-X.y;O.y=f,O.x=p},16);function de(){re.value=!1;const a=o.dir==="rtl"?-1:1,p=Math.sign(O.x)*.4,f=Math.round(O.x/v.value+p)*a;let w=Ae(o,h.value-f,C.value,E.value);if(f){const A=K=>{K.stopPropagation(),window.removeEventListener("click",A,!0)};window.addEventListener("click",A,!0)}k(w),O.x=0,O.y=0,document.removeEventListener(x?"touchmove":"mousemove",ce,!0),document.removeEventListener(x?"touchend":"mouseup",de,!0)}function ve(){b.value=setInterval(()=>{o.pauseAutoplayOnHover&&q.value||G()},o.autoplay)}function me(a=!0){!b.value||(clearInterval(b.value),a&&ve())}const R=r(!1);function k(a,p=!1){if(me(),h.value===a||R.value)return;const f=u.value-1;if(a>f)return k(a-u.value);if(a<0)return k(a+u.value);R.value=!0,je.value=h.value,h.value=a,p||n("update:modelValue",h.value),L.value=setTimeout(()=>{o.wrapAround&&W(),R.value=!1},o.transition)}function G(){let a=h.value+o.itemsToScroll;o.wrapAround||(a=Math.min(a,C.value)),k(a)}function pe(){let a=h.value-o.itemsToScroll;o.wrapAround||(a=Math.max(a,E.value)),k(a)}const fe={slideTo:k,next:G,prev:pe};j("nav",fe);const he=ee(()=>Qe({slidesBuffer:i.value,itemsToShow:o.itemsToShow,snapAlign:o.snapAlign,wrapAround:Boolean(o.wrapAround),currentSlide:h.value,slidesCount:u.value}));j("slidesToScroll",he);const Ce=ee(()=>{const a=o.dir==="rtl"?-1:1,p=he.value*v.value*a;return{transform:`translateX(${O.x-p}px)`,transition:`${R.value?o.transition:0}ms`}});function _e(){le()}function ge(){le(),I(),P(),W(),F()}function Se(){P(),W()}ae(()=>Object.values(t),ge),_e(),De(()=>{const a=u.value!==l.value.length;t.modelValue!==void 0&&h.value!==t.modelValue&&k(Number(t.modelValue),!0),a&&Se()});const ye={config:o,slidesBuffer:i,slidesCount:u,slideWidth:v,currentSlide:h,maxSlide:C,minSlide:E,middleSlide:se};s({updateBreakpointsConfigs:I,updateSlidesData:P,updateSlideWidth:F,updateSlidesBuffer:W,initCarousel:_e,restartCarousel:ge,updateCarousel:Se,slideTo:k,next:G,prev:pe,nav:fe,data:ye});const J=e.default||e.slides,Z=e.addons,we=V(ye);return()=>{const a=Je(J==null?void 0:J(we)),p=(Z==null?void 0:Z(we))||[];l.value=a,a.forEach((A,K)=>A.props.index=K);const f=g("ol",{class:"carousel__track",style:Ce.value,onMousedown:o.mouseDrag?ue:null,onTouchstart:o.touchDrag?ue:null},a),w=g("div",{class:"carousel__viewport"},f);return g("section",{ref:d,class:{carousel:!0,"carousel--rtl":o.dir==="rtl"},dir:o.dir,"aria-label":"Gallery",onMouseenter:Le,onMouseleave:Oe},[w,p])}}});const tt={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},ne=t=>{const e=t.name;if(!e||typeof e!="string")return;const n=tt[e],s=g("path",{d:n}),c=t.title||e,d=g("title",null,e);return g("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img",ariaLabel:c},[d,s])};ne.props={name:String,title:String};const nt=(t,{slots:e,attrs:n})=>{const{next:s,prev:c}=e,d=S("config",V(Object.assign({},_))),l=S("maxSlide",r(1)),i=S("minSlide",r(1)),v=S("currentSlide",r(1)),u=S("nav",{}),b=d.dir==="rtl",L=g("button",{type:"button",class:["carousel__prev",!d.wrapAround&&v.value<=i.value&&"carousel__prev--in-active",n==null?void 0:n.class],"aria-label":"Navigate to previous slide",onClick:u.prev},(c==null?void 0:c())||g(ne,{name:b?"arrowRight":"arrowLeft"})),T=g("button",{type:"button",class:["carousel__next",!d.wrapAround&&v.value>=l.value&&"carousel__next--in-active",n==null?void 0:n.class],"aria-label":"Navigate to next slide",onClick:u.next},(s==null?void 0:s())||g(ne,{name:b?"arrowLeft":"arrowRight"}));return[L,T]};var at=z({name:"CarouselSlide",props:{index:{type:Number,default:1}},setup(t,{slots:e}){const n=S("config",V(Object.assign({},_))),s=S("slidesBuffer",r([])),c=S("currentSlide",r(0)),d=S("slidesToScroll",r(0)),l=r(t.index);n.wrapAround&&(i(),ae(s,i));function i(){l.value=s.value.indexOf(t.index)}const v=ee(()=>{const y=n.itemsToShow;return{width:`${1/y*100}%`,order:l.value.toString()}}),u=()=>t.index===c.value,b=()=>{const y=Math.ceil(d.value),o=Math.floor(d.value+n.itemsToShow);return s.value.slice(y,o).includes(t.index)},L=()=>t.index===s.value[Math.ceil(d.value)-1],T=()=>t.index===s.value[Math.floor(d.value+n.itemsToShow)];return()=>{var y;return g("li",{style:v.value,class:{carousel__slide:!0,"carousel__slide--active":u(),"carousel__slide--visible":b(),"carousel__slide--prev":L(),"carousel__slide--next":T()}},(y=e.default)===null||y===void 0?void 0:y.call(e))}}});const ot=()=>{const t=S("maxSlide",r(1)),e=S("minSlide",r(1)),n=S("currentSlide",r(1)),s=S("nav",{});function c(i){s.slideTo(i)}const d=i=>{const v=n.value;return v===i||v>t.value&&i>=t.value||v<e.value&&i<=e.value},l=[];for(let i=e.value;i<t.value+1;i++){const v=g("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":d(i)},"aria-label":`Navigate to slide ${i+1}`,onClick:()=>c(i)}),u=g("li",{class:"carousel__pagination-item",key:i},v);l.push(u)}return g("ol",{class:"carousel__pagination"},l)},ke=Pe({id:"slides",state:()=>({options:["en"],slides:new Array}),actions:{addSlidesFromWordList(t){for(const e of t)for(const n of this.options)n=="en"?this.slides.push({type:"en",image:e.image,text:{en:Array.isArray(e.en)?e.en[0]:e.en}}):n=="ja"?this.slides.push({type:"ja",image:e.image,text:{ja:{hiragana:Array.isArray(e.ja)?e.ja[0].hiragana:e.ja.hiragana,kanji:Array.isArray(e.ja)?e.ja[0].kanji:e.ja.kanji}}}):n=="img"&&this.slides.push({type:"img",image:e.image});return this.slides},removeAllSlides(){this.slides.splice(0,this.slides.length)},setOptionsFromURLSearchParams(){var n;const e=(n=new URL(window.document.URL).searchParams.get("type"))==null?void 0:n.split(",");if(e){this.options.splice(0,this.options.length);for(const s of e)s!=="en"&&s!=="ja"&&s!=="img"||this.options.push(s)}return this.options}}});const st={key:0,class:"en"},lt={key:1,class:"ja"},it=z({name:"SlidesDisplay",async setup(t){let e,n;const{addWordsFromURLSearchParams:s}=Te(),c=ke(),d=([e,n]=Re(()=>s()),e=await e,n(),e);c.setOptionsFromURLSearchParams(),c.addSlidesFromWordList(d);let l=r(null);return window.addEventListener("keydown",i=>{switch(i.key){case"ArrowLeft":l.value.prev();break;case"ArrowRight":l.value.next();break}}),ae(c.slides,()=>{l.value.slideTo(0)}),(i,v)=>(M(),te(B(et),{"items-to-show":1.1,"wrap-around":!0,ref_key:"myCarousel",ref:l},{slides:U(()=>[(M(!0),$(oe,null,Ve(B(c).slides,(u,b)=>(M(),te(B(at),{key:b},{default:U(()=>[m("div",{class:"carousel__item",style:$e({backgroundImage:`url(${u.image})`})},[u.type=="en"?(M(),$("ruby",st,Q(u.text.en),1)):u.type=="ja"?(M(),$("ruby",lt,[D(Q(u.text.ja.kanji),1),m("rt",null,Q(u.text.ja.hiragana),1)])):Ue("",!0)],4)]),_:2},1024))),128))]),addons:U(()=>[N(B(nt)),N(B(ot))]),_:1},8,["items-to-show"]))}});function rt(t,e){const n=new URL(window.document.URL);n.searchParams.set(t,e),window.history.replaceState(null,"",n.toString())}const ut=["onSubmit"],ct=m("label",null,[m("input",{type:"radio",id:"img",name:"type",value:"img"}),D(" Picture ")],-1),dt=m("br",null,null,-1),vt=m("label",null,[m("input",{type:"radio",id:"img_en",name:"type",value:"img,en"}),D(" Picture \u2192 English ")],-1),mt=m("br",null,null,-1),pt=m("label",null,[m("input",{type:"radio",id:"en",name:"type",value:"en"}),D(" English ")],-1),ft=m("br",null,null,-1),ht=m("label",null,[m("input",{type:"radio",id:"en_ja",name:"type",value:"en,ja"}),D(" English \u2192 Japanese ")],-1),_t=m("br",null,null,-1),gt=m("label",null,[m("input",{type:"radio",id:"ja",name:"type",value:"ja"}),D(" Japanese ")],-1),St=m("br",null,null,-1),yt=m("input",{type:"submit",value:"Set"},null,-1),wt=[ct,dt,vt,mt,pt,ft,ht,_t,gt,St,yt],bt=z({name:"SlidesSettingsToggle",setup(t){let e=r(!1);const n=ke(),s=Te();function c(){const d=document.querySelector('input[name="type"]:checked').value;rt("type",d),n.setOptionsFromURLSearchParams(),n.removeAllSlides(),n.addSlidesFromWordList(s.words),e.value=!1}return(d,l)=>{const i=ze("vue-final-modal");return M(),$(oe,null,[N(i,{modelValue:B(e),"onUpdate:modelValue":l[0]||(l[0]=v=>be(e)?e.value=v:e=v),classes:"modal-container","content-class":"modal-content"},{default:U(()=>[m("form",{onSubmit:Ie(c,["prevent"]),name:"type"},wt,40,ut)]),_:1},8,["modelValue"]),m("span",{class:"material-symbols-outlined top-button settings-button",onClick:l[1]||(l[1]=v=>be(e)?e.value=!0:e=!0)},"settings")],64)}}});const xt=z({name:"SlidesApp",setup(t){return(e,n)=>(M(),$(oe,null,[N(He),N(bt),(M(),te(Fe,null,{default:U(()=>[N(it)]),_:1}))],64))}}),Y=We(xt);Y.component(xe.name,xe);Y.use(Xe());Y.use(Ye);Y.mount("#app");

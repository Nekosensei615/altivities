import{br as A,d as b,A as W,E as j,aS as v,o as R,c as k,e as y,w as I,u as C,Q as S,f as x,F as T}from"./pinia.esm-browser.ed84798c.js";const U="https://altivities.earthiverse.ca/wordlists",$={General:{prefix:`${U}/General/`,lists:{colors:{name:"Colors",wordList:"colors.json"},sports:{name:"Sports",wordList:"sports.json"}}}},V=A({id:"word_list",state:()=>({selected:new Array,unselected:new Array,wordLists:new Array,numWords:0}),getters:{curatedWordLists:()=>$,getSelectedWordByIndex:n=>e=>{let o=0;for(const s of n.selected)for(const t of s){if(o==e)return t;o++}},getUnselectedWordByIndex:n=>e=>{let o=0;for(const s of n.unselected)for(const t of s){if(o==e)return t;o++}},words:n=>n.wordLists.flat()},actions:{async addWordsFromURLSearchParams(n="wordlist",e="wordlists",o="ignore",s="include"){const t=new URLSearchParams(window.location.search);let i=[];const c=t.get(n);if(c){const r=await(await fetch(c)).json();i.push(...r)}const w=t.get(e);if(w)for(const d of w.split(",")){const l=await(await fetch(d)).json();i.push(...l)}const p=t.get(o);if(p){const d=p.split(",");for(let r=0;r<i.length;r++){const l=i[r];for(const f of d)if(l.en==f||Array.isArray(l.en)&&l.en[0]==f){i.splice(r,1),r-=1;break}}}const h=t.get(s);if(h){const d=h.split(","),r=[];for(;d.length>0;){const l=d.shift();let f=!1;for(const a of i){if(a.en==l||Array.isArray(a.en)&&a.en[0]==l){r.push(a),f=!0;break}if(Array.isArray(a.en))for(let _=0;_<a.en.length;_++){const L=a.en[_];if(L===l){a.en=L,r.push(a),f=!0;break}}}f||r.push({en:l,ja:{hiragana:"???",kanji:"???"}})}i=r}for(const d of i)d.id=this.numWords,this.numWords++;this.wordLists.push(i),this.unselected.push([...i]),this.selected.push([]);let u=1,m=`${u}_wordlist`,g=`${u}_wordlists`;for(;t.has(m)||t.has(g);)this.addWordsFromURLSearchParams(m,g,`${u}_ignore`,`${u}_include`),u+=1,m=`${u}_wordlist`,g=`${u}_wordlists`;return this.words},resetStore(){this.selected.splice(0,this.selected.length),this.unselected.splice(0,this.unselected.length),this.wordLists.splice(0,this.wordLists.length),this.numWords=0},selectWord(n){for(let e=0;e<this.unselected.length;e++){const o=this.unselected[e];for(let s=0;s<o.length;s++){const t=o[s];if(t.id==n)return o.splice(s,1),this.selected[e].push(t),t}}},unselectWord(n){for(let e=0;e<this.selected.length;e++){const o=this.selected[e];for(let s=0;s<o.length;s++){const t=o[s];if(t.id==n)return o.splice(s,1),this.unselected[e].push(t),t}}}}});const B=b({name:"QRToggle",setup(n){let e=W(!1);function o(){return window.location.href}function s(){return Math.min(window.innerWidth,window.innerHeight)*.75}const t=W(s());return j(()=>{window.addEventListener("resize",()=>{t.value=s()})}),(i,c)=>{const w=v("vue-qrcode"),p=v("vue-final-modal");return R(),k(T,null,[y(p,{modelValue:C(e),"onUpdate:modelValue":c[0]||(c[0]=h=>S(e)?e.value=h:e=h),classes:"modal-container","content-class":"modal-content-qr"},{default:I(()=>[y(w,{value:o(),"lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,tag:"svg",options:{errorCorrectionLevel:"L",width:t.value,margin:1}},null,8,["value","options"])]),_:1},8,["modelValue"]),x("span",{class:"material-symbols-outlined top-button qr-code-button",onClick:c[1]||(c[1]=h=>S(e)?e.value=!0:e=!0)},"qr_code")],64)}}});export{B as _,V as u};

var A=Object.defineProperty;var S=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var j=(t,e,s)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,p=(t,e)=>{for(var s in e||(e={}))_.call(e,s)&&j(t,s,e[s]);if(S)for(var s of S(e))I.call(e,s)&&j(t,s,e[s]);return t};import{d as b}from"./pinia.esm-browser.14892411.js";const $="https://altivities.earthiverse.ca/wordlists",R={General:{prefix:`${$}/General/`,lists:{colors:{name:"Colors",wordList:"colors.json"},sports:{name:"Sports",wordList:"sports.json"}}}},U=b({id:"word_list",state:()=>({selected:new Array,unselected:new Array,wordLists:new Array,numWords:0}),getters:{curatedWordLists:()=>R,getSelectedWordByIndex:t=>e=>{let s=0;for(const o of t.selected)for(const r of o){if(s==e)return r;s++}},getUnselectedWordByIndex:t=>e=>{let s=0;for(const o of t.unselected)for(const r of o){if(s==e)return r;s++}},getWordByIndex:t=>e=>{let s=0;for(const o of t.wordLists)for(const r of o){if(s==e)return r;s++}},words:t=>t.wordLists.flat()},actions:{async addWordsFromURLSearchParams(t="wordlist",e="wordlists",s="ignore",o="include"){const r=new URLSearchParams(window.location.search);let i=[];const g=r.get(t);if(g){const n=await(await fetch(g)).json();i.push(...n)}const L=r.get(e);if(L)for(const l of L.split(",")){const d=await(await fetch(l)).json();i.push(...d)}const W=r.get(s);if(W){const l=W.split(",");for(let n=0;n<i.length;n++){const d=i[n];for(const a of l)if(d.en==a||Array.isArray(d.en)&&d.en[0]==a){i.splice(n,1),n-=1;break}}}const m=r.get(o);if(m){const l=m.split(","),n=[];for(;l.length>0;){const d=l.shift();let a=!1;for(const c of i){if(c.en==d||Array.isArray(c.en)&&c.en[0]==d){n.push(p({},c)),a=!0;break}if(Array.isArray(c.en))for(let w=0;w<c.en.length;w++){const y=c.en[w];if(y===d){c.en=y,n.push(p({},c)),a=!0;break}}}a||n.push({en:d,ja:{hiragana:"???",kanji:"???"}})}i=n}for(const l of i)l.id=this.numWords,this.numWords++;this.wordLists.push(i),this.unselected.push([...i]),this.selected.push([]);let h=1,f=`${h}_wordlist`,u=`${h}_wordlists`;for(;r.has(f)||r.has(u);)this.addWordsFromURLSearchParams(f,u,`${h}_ignore`,`${h}_include`),h+=1,f=`${h}_wordlist`,u=`${h}_wordlists`;return this.words},resetStore(t=!1){if(t)this.wordLists.splice(0,this.wordLists.length),this.selected.splice(0,this.selected.length),this.unselected.splice(0,this.unselected.length),this.numWords=0;else for(let e=0;e<this.wordLists.length;e++){const s=this.wordLists[e];this.selected[e].splice(0,this.selected[e].length),this.unselected[e].splice(0,this.unselected[e].length);for(const o of s)this.unselected[e].push(o)}},selectWord(t){for(let e=0;e<this.unselected.length;e++){const s=this.unselected[e];for(let o=0;o<s.length;o++){const r=s[o];if(r.id==t)return s.splice(o,1),this.selected[e].push(r),r}}},unselectWord(t){for(let e=0;e<this.selected.length;e++){const s=this.selected[e];for(let o=0;o<s.length;o++){const r=s[o];if(r.id==t)return s.splice(o,1),this.unselected[e].push(r),r}}}}});export{U as u};

import{br as I,a7 as k,o as g,c as L,a5 as M,_ as u,M as x,aG as A,H as S,B as b,I as $,bq as F,a as P,b as C}from"./pinia.esm-browser.b39ed190.js";import{_ as R,i as v,z as T}from"./QRToggle.2793eef2.js";const z="https://altivities.earthiverse.ca/wordlists/Plurals",B={General:{prefix:`${z}/`,lists:{fruits:{name:"Fruits",wordList:"fruits.json"}}}},Q=I({id:"word_list",state:()=>({wordLists:new Array,numWords:0}),getters:{curatedWordLists:()=>B,getWordByIndex:t=>e=>{let s=0;for(const c of t.wordLists)for(const n of c){if(s==e)return n;s++}},words:t=>t.wordLists.flat()},actions:{async addWordsFromURLSearchParams(t="wordlist",e="wordlists",s="ignore",c="include"){const n=new URLSearchParams(window.location.search);let o=[];const w=n.get(t);if(w){const r=await(await fetch(w)).json();o.push(...r)}const f=n.get(e);if(f)for(const a of f.split(",")){const h=await(await fetch(a)).json();o.push(...h)}const i=n.get(s);if(i){const a=i.split(",");for(let r=0;r<o.length;r++){const h=o[r];for(const _ of a)if(h.singular.en==_){o.splice(r,1),r-=1;break}}}const m=n.get(c);if(m){const a=m.split(","),r=[];for(;a.length>0;){const h=a.shift();for(const _ of o)if(_.singular.en==h){r.push(_);break}}o=r}for(const a of o)a.id=this.numWords,this.numWords++;this.wordLists.push(o);let d=1,p=`${d}_wordlist`,l=`${d}_wordlists`;for(;n.has(p)||n.has(l);)this.addWordsFromURLSearchParams(p,l,`${d}_ignore`,`${d}_include`),d+=1,p=`${d}_wordlist`,l=`${d}_wordlists`;return this.words},resetStore(){this.wordLists.splice(0,this.wordLists.length),this.numWords=0}}});function W(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function U(t,e,s=3){return parseFloat((Math.random()*(e-t)+t).toFixed(s))}function j(){const t=W(0,2*Math.PI),e=U(.5,1);return{transform:`rotate(${t}rad) scale(${e}) `,WebkitFilter:"drop-shadow(0 0 10px rgba(255, 255, 255, 5))",filter:"drop-shadow(0 0 10px rgba(255, 255, 255, 5))"}}const H=I({id:"how_many",state:()=>({cols:5,rows:5,cells:new Array,howManyQuestion:0}),actions:{checkAnswer(t){let e=0;for(const s of this.cells)this.howManyQuestion==s.index&&(e+=1);return e==t},randomize(t){const e=t.length;this.cells.splice(0,this.cells.length);for(let s=0;s<this.cols*this.rows;s++){const c=W(0,e-1);this.cells.push({index:c,selected:!1,style:j(),word:t[c]})}this.howManyQuestion=W(0,e-1)}}});const D={class:"top",style:{flexWrap:"wrap"}},q=["src","onClick"],E={class:"bottom-menu"},N=u("div",null,"How many",-1),O={class:"text"},V=u("div",null,"?",-1),G=["onSubmit"],K=["max"],J=u("input",{type:"submit",value:"Check!"},null,-1),X=k({name:"HowManyApp",setup(t){const e=Q(),s=H();e.addWordsFromURLSearchParams().then(()=>{s.cols=5,s.rows=5,s.randomize(e.words)});const c={1:"/assets/audio/numbers/1.mp3",2:"/assets/audio/numbers/2.mp3",3:"/assets/audio/numbers/3.mp3",4:"/assets/audio/numbers/4.mp3",5:"/assets/audio/numbers/5.mp3",6:"/assets/audio/numbers/6.mp3",7:"/assets/audio/numbers/7.mp3",8:"/assets/audio/numbers/8.mp3",9:"/assets/audio/numbers/9.mp3",10:"/assets/audio/numbers/10.mp3",11:"/assets/audio/numbers/11.mp3",12:"/assets/audio/numbers/12.mp3",13:"/assets/audio/numbers/13.mp3",14:"/assets/audio/numbers/14.mp3",15:"/assets/audio/numbers/15.mp3",16:"/assets/audio/numbers/16.mp3",17:"/assets/audio/numbers/17.mp3",18:"/assets/audio/numbers/18.mp3",19:"/assets/audio/numbers/19.mp3",20:"/assets/audio/numbers/20.mp3"};function n(){return e.getWordByIndex(s.howManyQuestion)}let o=0;function w(i){if(i.selected)return;const m=s.howManyQuestion;i.index==m?(i.selected=!0,new Audio("/assets/audio/sfx/correct.mp3").play(),o+=1,c[o]&&new Audio(c[o]).play()):new Audio("/assets/audio/sfx/incorrect.mp3").play()}function f(){const i=document.querySelector('input[type="number"]'),m=Number.parseInt(i.value);s.checkAnswer(m)?(alert("That's correct!"),i.value="",o=0,s.randomize(e.words)):alert("Sorry, that's wrong.")}return(i,m)=>{var d,p;return g(),L(x,null,[M(R),u("div",D,[(g(!0),L(x,null,A(b(s).cells,(l,a)=>(g(),L("div",{class:"cell",key:a,style:S({height:`calc((100% / ${b(s).rows}))`,opacity:l.selected?.5:1,width:`calc((100% / ${b(s).cols}))`})},[u("img",{src:l.word.singular.image,style:S(l.style),onClick:r=>w(l)},null,12,q)],4))),128))]),u("div",E,[N,u("div",{class:"card",style:S({backgroundImage:`url(${(d=n())==null?void 0:d.plural.image})`})},[u("span",O,$((p=n())==null?void 0:p.plural.en),1)],4),V,u("form",{class:"form",onSubmit:F(f,["prevent"])},[u("input",{type:"number",placeholder:"__",min:"0",max:b(s).cells.length},null,8,K),J],40,G)])],64)}}}),y=P(X);y.component(v.name,v);y.use(C());y.use(T);y.mount("#app");
